<form class="{{cssClass}} {{typeFlag}} {{readyToCast}}" autocomplete="off">
  {{#if spellBeingCast}}
  <div class="spell-being-cast">
    <span class="spell-name" title="{{spellBeingCast.spellObject.name}}">{{spellBeingCast.spellObject.name}}</span>
    <span class="spell-suit">[<span class="suit-symbol-{{spellBeingCast.spellObject.system.suit}}">{{spellBeingCast.suitSymbol}}</span>]</span>
    <span class="power-gathering-progress">{{spellBeingCast.powerGathered}} / {{spellBeingCast.powerNeed}}</span>
  </div>
  <div class="harmonics">
    <span class="harmonic-txt">{{{harmonicHTML}}}</span>
  </div>
  <hr class="spell-being-cast" />
  {{/if}}
  <div class="card-hand-controls">
    <div class="flexrow">
      {{#if typeFlag}}
      <a class="card-control" data-action="openActor" title="{{localize "castle-falkenstein.openCharacterSheet"}}" {{ disabled disabled.openActor }}>
        <i class="fas fa-user"></i>
      </a>
      {{/if}}
      {{#if owner}}
      {{#ifequal typeFlag "fortune"}}
      <a class="card-control" data-action="refillHand" title="{{localize "castle-falkenstein.fortune.hand.refill"}}" {{ disabled disabled.refillHand }}>
        <i class="cf-stack"></i>
      </a>
      <a class="card-control" data-action="chanceCard" title="{{localize "castle-falkenstein.fortune.hand.chance"}}" {{ disabled disabled.chanceCard }}>
        <i class="fas fa-question"></i>
      </a>
      {{/ifequal}}
      {{#ifequal typeFlag "sorcery"}}
      <a class="card-control" data-action="gatherPower" title="{{localize "castle-falkenstein.sorcery.hand.gatherPower"}}" {{ disabled disabled.gatherPower }}>
        <i class="fas fa-plus-circle"></i>
      </a>
      <a class="card-control" data-action="castSpell" title="{{localize "castle-falkenstein.sorcery.hand.castSpell"}}" {{ disabled disabled.castSpell }}>
        <i class="fas fa-play-circle"></i>
      </a>
      <a class="card-control" data-action="cancelSpell" title="{{localize "castle-falkenstein.sorcery.hand.cancelSpell"}}" {{ disabled disabled.cancelSpell }}>
        <i class="fas fa-stop-circle"></i>
      </a>
      {{/ifequal}}
      {{/if}}
    </div>
  </div>
  <div class="handedCards {{typeFlag}}">
    <ol class="cards">
      {{#each cards as |card|}}
      <li class="card flexrow {{../rtgVisuals}} {{card.correctSuit}} {{card.joker}}" data-card-id="{{card.id}}" title="{{card.name}}" style="width: {{../cardWidth}}px; height: {{../cardHeight}}px; margin-left: calc(-1/2*{{../cardWidth}}px); margin-right: calc(-1/2*{{../cardWidth}}px);">
        <img class="card-face" src="{{card.img}}" alt="{{card.name}}" style="width: {{../cardWidth}}px">
        <div class="castle-falkenstein-card-controls flexcol">
          {{#if ../owner}}
          {{#ifequal ../typeFlag "sorcery"}}
            <a class="card-control" data-action="releasePower" title="{{localize "castle-falkenstein.sorcery.hand.releasePower"}}">
              <i class="fas fa-trash"></i>
            </a>
          {{/ifequal}}
          {{/if}}
        </div>
      </li>
      {{/each}}
    </ol>
  </div>
</form>