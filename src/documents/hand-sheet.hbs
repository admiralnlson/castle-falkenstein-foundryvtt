<form class="{{cssClass}} {{typeFlag}} {{readyToCast}}" autocomplete="off">
  <span style="--x:0;   --y:0;  --xt:-13; --yt:12;  --xd:1;  --yd:2;   --w:25;  --d:1;  --o:.9; " class="pt s1"><b></b></span>
  <span style="--x:-17; --y:0;  --xt:17;  --yt:10;  --xd:2;  --yd:1;   --w:39;  --d:2;  --o:.5; " class="pt s2"><b></b></span>
  <span style="--x:34;  --y:0;  --xt:-17; --yt:10;  --xd:3;  --yd:3;   --w:28;  --d:3;  --o:.9; " class="pt s3"><b></b></span>
  <span style="--x:45;  --y:0;  --xt:21;  --yt:13;  --xd:1;  --yd:2;   --w:38;  --d:4;  --o:.9; " class="pt s4"><b></b></span>
  <span style="--x:6;   --y:-3; --xt:-21; --yt:10;  --xd:2;  --yd:1;   --w:58;  --d:5;  --o:.9; " class="pt s1"><b></b></span>
  <span style="--x:-35; --y:0;  --xt:17;  --yt:10;  --xd:3;  --yd:4;   --w:45;  --d:6;  --o:.7; " class="pt s2"><b></b></span>
  <span style="--x:-1;  --y:0;  --xt:-17; --yt:10;  --xd:1;  --yd:-4;  --w:65;  --d:7;  --o:.6; " class="pt s3"><b></b></span>
  <span style="--x:-30; --y:0;  --xt:13;  --yt:12;  --xd:2;  --yd:4;   --w:70;  --d:8;  --o:.9; " class="pt s4"><b></b></span>
  <span style="--x:-15; --y:3;  --xt:-18; --yt:16;  --xd:3;  --yd:0.8; --w:30;  --d:0;  --o:.7; " class="pt s1"><b></b></span>
  <span style="--x:15;  --y:10; --xt:14;  --yt:16;  --xd:1;  --yd:1;   --w:50;  --d:1;  --o:.9; " class="pt s2"><b></b></span>
  <span style="--x:35;  --y:30; --xt:-29; --yt:22;  --xd:2;  --yd:1;   --w:30;  --d:2;  --o:.4; " class="pt s3"><b></b></span>
  <span style="--x:26;  --y:20; --xt:10;  --yt:17;  --xd:3;  --yd:1.2; --w:26;  --d:3;  --o:0.4;" class="pt s4"><b></b></span> 
  <span style="--x:20;  --y:40; --xt:-16; --yt:16;  --xd:1;  --yd:-2;  --w:70;  --d:4;  --o:0.3;" class="pt s1"><b></b></span>
  <span style="--x:0;   --y:40; --xt:16;  --yt:16;  --xd:2;  --yd:-2;  --w:20;  --d:5;  --o:1;  " class="pt s2"><b></b></span>
  <span style="--x:10;  --y:40; --xt:-16; --yt:16;  --xd:3;  --yd:2;   --w:70;  --d:6;  --o:0.4;" class="pt s3"><b></b></span>
  <span style="--x:-5;  --y:50; --xt:12;  --yt:17;  --xd:1;  --yd:1.2; --w:100; --d:7;  --o:0.4;" class="pt s4"><b></b></span>
  <span style="--x:20;  --y:40; --xt:-14; --yt:11;  --xd:2;  --yd:.2;  --w:100; --d:8;  --o:0.4;" class="pt s1"><b></b></span>
  <span style="--x:48 ; --y:50; --xt:10;  --yt:17;  --xd:3;  --yd:1.2; --w:20;  --d:0;  --o:0.4;" class="pt s2"><b></b></span>
  <span style="--x:-46; --y:50; --xt:-10; --yt:17;  --xd:1;  --yd:1.2; --w:16;  --d:1;  --o:0.4;" class="pt s3"><b></b></span> 
  <span style="--x:-40; --y:40; --xt:10;  --yt:17;  --xd:2;  --yd:1.2; --w:28;  --d:2;  --o:0.4;" class="pt s4"><b></b></span>
  <span style="--x:35;  --y:60; --xt:-12; --yt:16;  --xd:3;  --yd:2;   --w:36;  --d:3;  --o:0.7;" class="pt s1"><b></b></span>
  <span style="--x:40;  --y:60; --xt:12;  --yt:16;  --xd:1;  --yd:2.2; --w:80;  --d:4;  --o:0.7;" class="pt s2"><b></b></span>
  <span style="--x:0;   --y:70; --xt:-12; --yt:26;  --xd:2;  --yd:2.2; --w:45;  --d:5;  --o:0.7;" class="pt s3"><b></b></span>
  <span style="--x:-31; --y:70; --xt:12;  --yt:26;  --xd:3;  --yd:3.2; --w:20;  --d:6;  --o:0.7;" class="pt s4"><b></b></span>
  {{#if spellBeingCast}}
  <div class="spell-being-cast">
    <span class="spell-name" title="{{spellBeingCast.spellObject.name}}">{{spellBeingCast.spellObject.name}}</span>
    <span class="spell-suit">[<span class="suit-symbol-{{spellBeingCast.spellObject.system.suit}}">{{spellBeingCast.suitSymbol}}</span>]</span>
    <span class="power-gathering-progress">{{spellBeingCast.powerGathered}} / {{spellBeingCast.powerNeed}}</span>
  </div>
  <hr class="spell-being-cast" />
  {{/if}}
  <div class="card-hand-controls">
    <div class="flexrow">
      {{#if typeFlag}}
      <a class="card-control" data-action="openActor" title="{{localize "castle-falkenstein.openCharacterSheet"}}" {{ disabled disabled.openActor }}>
        <i class="fas fa-user"></i>
      </a>
      {{/if}}
      {{#if owner}}
      {{#ifequal typeFlag "fortune"}}
      <a class="card-control" data-action="refillHand" title="{{localize "castle-falkenstein.fortune.hand.refill"}}" {{ disabled disabled.refillHand }}>
        <i class="cf-stack"></i>
      </a>
      <a class="card-control" data-action="chanceCard" title="{{localize "castle-falkenstein.fortune.hand.chance"}}" {{ disabled disabled.chanceCard }}>
        <i class="fas fa-question"></i>
      </a>
      {{/ifequal}}
      {{#ifequal typeFlag "sorcery"}}
      <a class="card-control" data-action="gatherPower" title="{{localize "castle-falkenstein.sorcery.hand.gatherPower"}}" {{ disabled disabled.gatherPower }}>
        <i class="fas fa-plus-circle"></i>
      </a>
      <a class="card-control" data-action="castSpell" title="{{localize "castle-falkenstein.sorcery.hand.castSpell"}}" {{ disabled disabled.castSpell }}>
        <i class="fas fa-play-circle"></i>
      </a>
      <a class="card-control" data-action="cancelSpell" title="{{localize "castle-falkenstein.sorcery.hand.cancelSpell"}}" {{ disabled disabled.cancelSpell }}>
        <i class="fas fa-stop-circle"></i>
      </a>
      {{/ifequal}}
      {{/if}}
    </div>
  </div>
  <div class="handedCards {{typeFlag}}">
    <ol class="cards">
      {{#each cards as |card|}}
      <li class="card flexrow {{../rtgVisuals}} {{card.correctSuit}} {{card.joker}}" data-card-id="{{card.id}}" title="{{card.name}}" style="width: {{../cardWidth}}px; height: {{../cardHeight}}px; margin-left: calc(-1/2*{{../cardWidth}}px); margin-right: calc(-1/2*{{../cardWidth}}px);">
        <div class="border"></div>
        <img class="card-face" src="{{card.img}}" alt="{{card.name}}" style="width: {{../cardWidth}}px">
        <div class="castle-falkenstein-card-controls flexcol">
          {{#if ../owner}}
          {{#ifequal ../typeFlag "sorcery"}}
          <a class="card-control" data-action="releasePower" title="{{localize "castle-falkenstein.sorcery.hand.releasePower"}}" >
            <i class="fas fa-trash"></i>
          </a>
          {{/ifequal}}
          {{/if}}
        </div>
      </li>
      {{/each}}
    </ol>
  </div>
</form>